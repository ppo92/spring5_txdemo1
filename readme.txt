#事务
1、什么是事务
    1）事务是数据库操作的最基本单元，逻辑上一组操作，要么都成功，如果有一个失败所有操作都失败
    2）典型场景：银行转账

2、事务的四个特性（ACID）
    1）原子性
    2）一致性
    3）隔离性
    4）持久性

3、事务管理
    1）事务一般添加到JavaEE三层结构里面的Service层（业务逻辑层）
    2）在spring里面进行事务管理操作
        ·编程式事务管理（通过代码实现，比较麻烦）
        ·声明式事务管理（常用）
    3）声明式事务管理
        ·基于注解方式（常用）
        ·基于xml配置文件方式
    4）在spring里进行声明式事务管理，底层使用AOP原理
    5）spring事务管理API
        ·提供一个接口，代表事务管理器，这个接口针对不同的框架提供不同的实现类

4、注解方式实现声明式事务管理
    1）在spring配置文件中配置事务管理器
    2）在spring配置文件中，开启事务注解
        ·引入名称空间tx
    3）在service类上面（获取service类里面方法上面）添加事务注解
        ·@Transactional这个注解添加到类上面，也可以添加到方法上面
        ·如果这个注解添加到类上面，这个类里面所有的方法都添加事务
        ·如果这个注解添加到方法上面，则只为这个方法添加事物

5、propagation，事务的传播行为：当一个事务被另一个事务方法调用的时候，这个事务方法如何进行
    1）REQUIRED
    2）REQUIRED_NEW
    3）SUPPORTS

6、isolation，事务的隔离级别：事务有特性成为隔离性，多事务操作之间不会产生影响，不考虑隔离性产生很多问题
    1）有三个读问题；脏读、不可重复读、虚读
    2）脏读：一个未提交的事务读取到了另一个未提交事务的数据
    3）不可重复读（不可重复读不能算问题，只能算一种现象）：一个未提交的事务读取到另一个提交事务修改的数据
    4）虚读：一个未提交的事务读取到了另一个提交事务的添加数据
    5）通过设置事务的隔离性，解决读问题

7、timeout，超时时间
    1）事务需要在一定时间内进行提交，如果不提交进行回滚
    2）默认值是-1，设置时间以秒为单位

8、readOnly：是否只读
    1）默认值是false
    2）设置成true之后，只能做查询操作

9、rollbackFor：回滚
    1）设置查询异常进行事务回滚

10、noRollbackFor：不回滚
    1）设置出现哪些异常不进行事务回滚

11、XML声明式事务管理
    1）在spring配置文件中进行配置
        ·配置事务管理器
        ·配置通知
        ·配置切入点和切面

12、完全注解开发实现声明式事务管理
    1）创建配置类替代xml配置文件

13、Spring框架新功能
    1）整个Spring5框架基于Java8，运行时兼容JDK9，许多不建议用的类和方法在代码库中删除
    2）Spring5框架自带了通用的日志封装，官方建议使用Log4j2
    3）支持@Nullable注解，可以使用在方法、属性、参数上面
    4）支持函数式风格
    5）支持整合JUnit5